<h5 class="w-100 my-4 ps-3 bg-light">Dati dell'operazione</h5>

<div class="container">
  <form [formGroup]="form" (ngSubmit)="inserisci()">
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Valuta del portafoglio</label>
      </div>
      <div class="col-2">
        <select class="w-100 fw-bold" formControlName="valuta">
          <option value="EUR">EUR</option>
          <option value="USD">USD</option>
        </select>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Tipo causale</label>
      </div>
      <div class="col-5">
        <select class="w-100" formControlName="tipoCausale">
          <option value="acquisto">Acquisto</option>
          <option value="vendita">Vendita</option>
        </select>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Data operazione</label>
      </div>
      <div class="col-5">
        <input class="w-100" type="date" placeholder="12/02/2021" formControlName="data">
        <div *ngIf="form.get('data').invalid && form.get('data').touched" class="validation">
          <small>Questo campo è obbligatorio</small>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Strumento</label>
      </div>
      <div class="col-5">
        <input class="w-100" type="text" formControlName="strumento">
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Quantità</label>
      </div>
      <div class="col-5">
        <input class="w-100" type="number" min="0" step="1" placeholder="0" formControlName="quantita">
        <div *ngIf="form.get('quantita').invalid && form.get('quantita').touched" class="validation">
          <small *ngIf="form.get('quantita').errors.required">Questo campo è obbligatorio</small>
          <small *ngIf="form.get('quantita').errors.pattern">Inserire solo numeri interi</small>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Prezzo</label>
      </div>
      <div class="col-5">
        <input class="w-100" type="number" min="0" step="0.0001" placeholder="1.2806" formControlName="prezzo">
        <div *ngIf="form.get('prezzo').invalid && form.get('prezzo').touched" class="validation">
          <small *ngIf="form.get('prezzo').errors.required">Questo campo è obbligatorio</small>
          <small *ngIf="form.get('prezzo').errors.pattern">Max 4 decimali dopo la virgola</small>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2 text-end fw-bold">
        <label>Importo</label>
      </div>
      <div class="col-5">
        <input class="w-100 bg-secondary" type="number" placeholder="0" formControlName="importo"
               [value]="calcTot()" readonly>
      </div>
    </div>

    <div class="d-flex justify-content-end mt-5">
      <button class="btn btn-secondary" type="submit" [disabled]="form.invalid">Inserisci</button>
    </div>

  </form>
</div>
